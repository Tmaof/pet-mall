{"ast":null,"code":"import { getI18nValue } from '@/i18n';\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'SidebarItem',\n  props: {\n    route: {\n      type: Object,\n      required: true\n    },\n    // 父路由路径path\n    parentPath: {\n      type: String,\n      required: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = useStore();\n    const props = __props;\n    // 只显示有meta并且有meta.title字段的路由\n    const isShow = computed(() => Boolean(props.route.meta && props.route.meta.title));\n    // 是否有子路由\n    const isHaveChild = computed(() => Boolean(props.route.children && props.route.children.length));\n    // 当前路由路径\n    const currentPath = computed(() => props.parentPath ? `${props.parentPath}/${props.route.path}` : `${props.route.path}`);\n\n    // 移动端：点击菜单项时关闭侧边栏，关闭蒙层\n    function setIsCollSideBar() {\n      if (store.getters.isMobile) {\n        store.commit('layout/SET_isCollapseSideBar', true);\n      }\n    }\n    const __returned__ = {\n      store,\n      props,\n      isShow,\n      isHaveChild,\n      currentPath,\n      setIsCollSideBar,\n      get getI18nValue() {\n        return getI18nValue;\n      },\n      computed,\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["getI18nValue","computed","useStore","store","props","__props","isShow","Boolean","route","meta","title","isHaveChild","children","length","currentPath","parentPath","path","setIsCollSideBar","getters","isMobile","commit"],"sources":["D:/myproject/毕业设计/pet-mall/apps/admin/src/layout/SideBar/SidebarItem/SidebarItem.vue"],"sourcesContent":["<template>\r\n  <!-- 存在子路由 -->\r\n  <el-sub-menu v-if=\"isShow && isHaveChild\" :index=\"props.route.path\">\r\n    <template #title>\r\n      <SvgIcon\r\n        v-if=\"props.route.meta.icon\"\r\n        :icon=\"props.route.meta.icon\"\r\n      ></SvgIcon>\r\n      <span class=\"menu-title\">{{ getI18nValue(props.route.meta.title) }}</span>\r\n    </template>\r\n    <!-- 递归自己 -->\r\n    <SidebarItem\r\n      v-for=\"route of props.route.children\"\r\n      :key=\"route.path\"\r\n      :route=\"route\"\r\n      :parentPath=\"currentPath\"\r\n    ></SidebarItem>\r\n  </el-sub-menu>\r\n  <!-- 没有子路由 -->\r\n  <el-menu-item\r\n    v-if=\"isShow && !isHaveChild\"\r\n    :index=\"currentPath\"\r\n    @click=\"setIsCollSideBar\"\r\n  >\r\n    <SvgIcon\r\n      v-if=\"props.route.meta.icon\"\r\n      :icon=\"props.route.meta.icon\"\r\n    ></SvgIcon>\r\n    <span class=\"menu-title\"> {{ getI18nValue(props.route.meta.title) }} </span>\r\n  </el-menu-item>\r\n</template>\r\n\r\n<script setup>\r\nimport { getI18nValue } from '@/i18n'\r\nimport { defineProps, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nconst store = useStore()\r\n\r\nconst props = defineProps({\r\n  route: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  // 父路由路径path\r\n  parentPath: {\r\n    type: String,\r\n    required: true\r\n  }\r\n})\r\n// 只显示有meta并且有meta.title字段的路由\r\nconst isShow = computed(() =>\r\n  Boolean(props.route.meta && props.route.meta.title)\r\n)\r\n// 是否有子路由\r\nconst isHaveChild = computed(() =>\r\n  Boolean(props.route.children && props.route.children.length)\r\n)\r\n// 当前路由路径\r\nconst currentPath = computed(() =>\r\n  props.parentPath\r\n    ? `${props.parentPath}/${props.route.path}`\r\n    : `${props.route.path}`\r\n)\r\n\r\n// 移动端：点击菜单项时关闭侧边栏，关闭蒙层\r\nfunction setIsCollSideBar() {\r\n  if (store.getters.isMobile) {\r\n    store.commit('layout/SET_isCollapseSideBar', true)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.menu-title {\r\n  margin-left: 10px;\r\n}\r\n</style>\r\n"],"mappings":"AAiCA,SAASA,YAAY,QAAQ,QAAQ;AACrC,SAAsBC,QAAQ,QAAQ,KAAK;AAC3C,SAASC,QAAQ,QAAQ,MAAM;;;;;;;;;;;;;;;;;;IAC/B,MAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC;IAExB,MAAME,KAAK,GAAGC,OAUZ;IACF;IACA,MAAMC,MAAM,GAAGL,QAAQ,CAAC,MACtBM,OAAO,CAACH,KAAK,CAACI,KAAK,CAACC,IAAI,IAAIL,KAAK,CAACI,KAAK,CAACC,IAAI,CAACC,KAAK,CACpD,CAAC;IACD;IACA,MAAMC,WAAW,GAAGV,QAAQ,CAAC,MAC3BM,OAAO,CAACH,KAAK,CAACI,KAAK,CAACI,QAAQ,IAAIR,KAAK,CAACI,KAAK,CAACI,QAAQ,CAACC,MAAM,CAC7D,CAAC;IACD;IACA,MAAMC,WAAW,GAAGb,QAAQ,CAAC,MAC3BG,KAAK,CAACW,UAAU,GACZ,GAAGX,KAAK,CAACW,UAAU,IAAIX,KAAK,CAACI,KAAK,CAACQ,IAAI,EAAE,GACzC,GAAGZ,KAAK,CAACI,KAAK,CAACQ,IAAI,EACzB,CAAC;;IAED;IACA,SAASC,gBAAgBA,CAAA,EAAG;MAC1B,IAAId,KAAK,CAACe,OAAO,CAACC,QAAQ,EAAE;QAC1BhB,KAAK,CAACiB,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAAC;MACpD;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}