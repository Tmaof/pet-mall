{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, resolveDirective as _resolveDirective, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"head\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_popconfirm = _resolveComponent(\"el-popconfirm\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _directive_permission = _resolveDirective(\"permission\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_card, {\n    shadow: \"never\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[0] || (_cache[0] = $event => $setup.isShowAddRoleDia = true)\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('Role.index.017834-0')), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    })), [[_directive_permission, 'add-role']])]), _createVNode(_component_el_table, {\n      data: $setup.roleList,\n      border: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        label: _ctx.$t('Role.index.017834-1'),\n        type: \"index\"\n      }, null, 8 /* PROPS */, [\"label\"]), _createVNode(_component_el_table_column, {\n        label: _ctx.$t('Role.index.017834-2')\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createTextVNode(_toDisplayString(row.name), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"]), _createVNode(_component_el_table_column, {\n        label: _ctx.$t('Role.index.017834-3')\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createTextVNode(_toDisplayString(row.describe), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"]), _createVNode(_component_el_table_column, {\n        label: _ctx.$t('Role.index.017834-4')\n      }, {\n        default: _withCtx(({\n          row\n        }) => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(row.names, (name, i) => {\n          return _openBlock(), _createBlock(_component_el_tag, {\n            key: i\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(name), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"]), _createVNode(_component_el_table_column, {\n        label: _ctx.$t('Role.index.017834-5'),\n        resizable: \"\"\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_withDirectives(_createVNode(_component_el_button, {\n          icon: \"Tools\",\n          type: \"primary\",\n          onClick: $event => $setup.onAssignPerm(row)\n        }, null, 8 /* PROPS */, [\"onClick\"]), [[_directive_permission, 'assign-perm']]), _createVNode(_component_el_popconfirm, {\n          title: _ctx.$t('Role.index.017834-6'),\n          onConfirm: $event => $setup.deleteRoleInfo(row.id)\n        }, {\n          reference: _withCtx(() => [_withDirectives(_createVNode(_component_el_button, {\n            icon: \"DeleteFilled\",\n            type: \"danger\"\n          }, null, 512 /* NEED_PATCH */), [[_directive_permission, 'delete-role']])]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"onConfirm\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 对话框 \"), _createVNode($setup[\"AddRole\"], {\n    modelValue: $setup.isShowAddRoleDia,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.isShowAddRoleDia = $event),\n    onComplete: $setup.getRoleListInfo\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode($setup[\"AssignPerm\"], {\n    modelValue: $setup.isShowAssignPermDia,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.isShowAssignPermDia = $event),\n    roleInfo: $setup.roleInfo,\n    onComplete: $setup.getRoleListInfo\n  }, null, 8 /* PROPS */, [\"modelValue\", \"roleInfo\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_el_card","shadow","default","_withCtx","_createElementVNode","_hoisted_1","_createBlock","_component_el_button","type","onClick","_cache","$event","$setup","isShowAddRoleDia","_createTextVNode","_toDisplayString","_ctx","$t","_","_component_el_table","data","roleList","border","_component_el_table_column","label","row","name","describe","_Fragment","_renderList","names","i","_component_el_tag","key","resizable","icon","onAssignPerm","_component_el_popconfirm","title","onConfirm","deleteRoleInfo","id","reference","_createCommentVNode","modelValue","onComplete","getRoleListInfo","isShowAssignPermDia","roleInfo"],"sources":["D:\\myproject\\毕业设计\\pet-mall\\apps\\admin\\src\\views\\Acl\\Role\\index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-card shadow=\"never\">\r\n      <div class=\"head\">\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"isShowAddRoleDia = true\"\r\n          v-permission=\"'add-role'\"\r\n          >{{ $t('Role.index.017834-0') }}</el-button\r\n        >\r\n      </div>\r\n      <el-table :data=\"roleList\" border>\r\n        <el-table-column :label=\"$t('Role.index.017834-1')\" type=\"index\"></el-table-column>\r\n        <el-table-column :label=\"$t('Role.index.017834-2')\">\r\n          <template #default=\"{ row }\">\r\n            {{ row.name }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('Role.index.017834-3')\">\r\n          <template #default=\"{ row }\">\r\n            {{ row.describe }}\r\n          </template></el-table-column\r\n        >\r\n        <el-table-column :label=\"$t('Role.index.017834-4')\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag v-for=\"(name, i) of row.names\" :key=\"i\">{{ name }}</el-tag>\r\n          </template></el-table-column\r\n        >\r\n        <el-table-column :label=\"$t('Role.index.017834-5')\" resizable>\r\n          <template #default=\"{ row }\">\r\n            <el-button\r\n              icon=\"Tools\"\r\n              type=\"primary\"\r\n              @click=\"onAssignPerm(row)\"\r\n              v-permission=\"'assign-perm'\"\r\n            >\r\n            </el-button>\r\n            <el-popconfirm :title=\"$t('Role.index.017834-6')\" @confirm=\"deleteRoleInfo(row.id)\">\r\n              <template #reference>\r\n                <el-button\r\n                  icon=\"DeleteFilled\"\r\n                  type=\"danger\"\r\n                  v-permission=\"'delete-role'\"\r\n                ></el-button>\r\n              </template>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n    <!-- 对话框 -->\r\n    <AddRole v-model=\"isShowAddRoleDia\" @complete=\"getRoleListInfo\"></AddRole>\r\n    <AssignPerm\r\n      v-model=\"isShowAssignPermDia\"\r\n      :roleInfo=\"roleInfo\"\r\n      @complete=\"getRoleListInfo\"\r\n    ></AssignPerm>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { getRoleList, deleteRole } from '@/api/role-manage'\r\nimport { onMounted, ref } from 'vue'\r\nimport AddRole from './components/AddRole'\r\nimport AssignPerm from './components/AssignPerm'\r\nconst roleList = ref([])\r\nconst isShowAddRoleDia = ref(false)\r\nconst isShowAssignPermDia = ref(false)\r\nconst roleInfo = ref({})\r\nasync function getRoleListInfo() {\r\n  roleList.value = await getRoleList()\r\n}\r\n/**\r\n * 删除角色\r\n */\r\nfunction deleteRoleInfo(id) {\r\n  deleteRole(id).then(() => {\r\n    getRoleListInfo()\r\n  })\r\n}\r\n/**\r\n * 为角色分配权限\r\n */\r\nfunction onAssignPerm(role) {\r\n  roleInfo.value = role\r\n  isShowAssignPermDia.value = true\r\n}\r\n\r\nonMounted(() => {\r\n  getRoleListInfo()\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.head {\r\n  margin-bottom: 10px;\r\n}\r\n:deep(.el-tag) {\r\n  margin: 5px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}