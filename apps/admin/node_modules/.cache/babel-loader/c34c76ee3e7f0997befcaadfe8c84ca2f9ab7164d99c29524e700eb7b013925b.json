{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport i18n from '@/i18n';\nimport { ElMessage } from 'element-plus';\n/**\r\n * 浏览器是否支持storge,或者是否开启\r\n * @param {*} type\r\n * @returns\r\n */\nfunction storageAvailable(type) {\n  let storage;\n  try {\n    storage = window[type];\n    const x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return e instanceof DOMException && (\n    // everything except Firefox\n    e.code === 22 ||\n    // Firefox\n    e.code === 1014 ||\n    // test name field too, because code might not be present\n    // everything except Firefox\n    e.name === 'QuotaExceededError' ||\n    // Firefox\n    e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n    // acknowledge QuotaExceededError only if there's something already stored\n    storage && storage.length !== 0;\n  }\n}\nexport function setItem(key, value) {\n  if (!storageAvailable('localStorage')) {\n    ElMessage.warning(i18n.$t('utility.storage.808362-0'));\n    return;\n  }\n  if (typeof value === 'object') {\n    value = JSON.stringify(value);\n  }\n  // value是字符串就直接存储\n  localStorage.setItem(key, value);\n}\nexport function getItem(key) {\n  let value = localStorage.getItem(key);\n  try {\n    value = JSON.parse(value);\n  } catch (e) {\n    // console.log(e)//字符串\n  }\n  return value;\n}\nexport function deleteItem(key) {\n  localStorage.removeItem(key);\n}\nexport function clearItem() {\n  localStorage.clear();\n}","map":{"version":3,"names":["i18n","ElMessage","storageAvailable","type","storage","window","x","setItem","removeItem","e","DOMException","code","name","length","key","value","warning","$t","JSON","stringify","localStorage","getItem","parse","deleteItem","clearItem","clear"],"sources":["D:/myproject/毕业设计/pet-mall/apps/admin/src/utility/storage.js"],"sourcesContent":["import i18n from '@/i18n'\r\nimport { ElMessage } from 'element-plus'\r\n/**\r\n * 浏览器是否支持storge,或者是否开启\r\n * @param {*} type\r\n * @returns\r\n */\r\nfunction storageAvailable(type) {\r\n  let storage\r\n  try {\r\n    storage = window[type]\r\n    const x = '__storage_test__'\r\n    storage.setItem(x, x)\r\n    storage.removeItem(x)\r\n    return true\r\n  } catch (e) {\r\n    return (\r\n      e instanceof DOMException &&\r\n      // everything except Firefox\r\n      (e.code === 22 ||\r\n        // Firefox\r\n        e.code === 1014 ||\r\n        // test name field too, because code might not be present\r\n        // everything except Firefox\r\n        e.name === 'QuotaExceededError' ||\r\n        // Firefox\r\n        e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\r\n      // acknowledge QuotaExceededError only if there's something already stored\r\n      storage &&\r\n      storage.length !== 0\r\n    )\r\n  }\r\n}\r\n\r\nexport function setItem(key, value) {\r\n  if (!storageAvailable('localStorage')) {\r\n    ElMessage.warning(i18n.$t('utility.storage.808362-0'))\r\n    return\r\n  }\r\n\r\n  if (typeof value === 'object') {\r\n    value = JSON.stringify(value)\r\n  }\r\n  // value是字符串就直接存储\r\n  localStorage.setItem(key, value)\r\n}\r\n\r\nexport function getItem(key) {\r\n  let value = localStorage.getItem(key)\r\n  try {\r\n    value = JSON.parse(value)\r\n  } catch (e) {\r\n    // console.log(e)//字符串\r\n  }\r\n  return value\r\n}\r\n\r\nexport function deleteItem(key) {\r\n  localStorage.removeItem(key)\r\n}\r\n\r\nexport function clearItem() {\r\n  localStorage.clear()\r\n}\r\n"],"mappings":";AAAA,OAAOA,IAAI,MAAM,QAAQ;AACzB,SAASC,SAAS,QAAQ,cAAc;AACxC;AACA;AACA;AACA;AACA;AACA,SAASC,gBAAgBA,CAACC,IAAI,EAAE;EAC9B,IAAIC,OAAO;EACX,IAAI;IACFA,OAAO,GAAGC,MAAM,CAACF,IAAI,CAAC;IACtB,MAAMG,CAAC,GAAG,kBAAkB;IAC5BF,OAAO,CAACG,OAAO,CAACD,CAAC,EAAEA,CAAC,CAAC;IACrBF,OAAO,CAACI,UAAU,CAACF,CAAC,CAAC;IACrB,OAAO,IAAI;EACb,CAAC,CAAC,OAAOG,CAAC,EAAE;IACV,OACEA,CAAC,YAAYC,YAAY;IACzB;IACCD,CAAC,CAACE,IAAI,KAAK,EAAE;IACZ;IACAF,CAAC,CAACE,IAAI,KAAK,IAAI;IACf;IACA;IACAF,CAAC,CAACG,IAAI,KAAK,oBAAoB;IAC/B;IACAH,CAAC,CAACG,IAAI,KAAK,4BAA4B,CAAC;IAC1C;IACAR,OAAO,IACPA,OAAO,CAACS,MAAM,KAAK,CAAC;EAExB;AACF;AAEA,OAAO,SAASN,OAAOA,CAACO,GAAG,EAAEC,KAAK,EAAE;EAClC,IAAI,CAACb,gBAAgB,CAAC,cAAc,CAAC,EAAE;IACrCD,SAAS,CAACe,OAAO,CAAChB,IAAI,CAACiB,EAAE,CAAC,0BAA0B,CAAC,CAAC;IACtD;EACF;EAEA,IAAI,OAAOF,KAAK,KAAK,QAAQ,EAAE;IAC7BA,KAAK,GAAGG,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;EAC/B;EACA;EACAK,YAAY,CAACb,OAAO,CAACO,GAAG,EAAEC,KAAK,CAAC;AAClC;AAEA,OAAO,SAASM,OAAOA,CAACP,GAAG,EAAE;EAC3B,IAAIC,KAAK,GAAGK,YAAY,CAACC,OAAO,CAACP,GAAG,CAAC;EACrC,IAAI;IACFC,KAAK,GAAGG,IAAI,CAACI,KAAK,CAACP,KAAK,CAAC;EAC3B,CAAC,CAAC,OAAON,CAAC,EAAE;IACV;EAAA;EAEF,OAAOM,KAAK;AACd;AAEA,OAAO,SAASQ,UAAUA,CAACT,GAAG,EAAE;EAC9BM,YAAY,CAACZ,UAAU,CAACM,GAAG,CAAC;AAC9B;AAEA,OAAO,SAASU,SAASA,CAAA,EAAG;EAC1BJ,YAAY,CAACK,KAAK,CAAC,CAAC;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}