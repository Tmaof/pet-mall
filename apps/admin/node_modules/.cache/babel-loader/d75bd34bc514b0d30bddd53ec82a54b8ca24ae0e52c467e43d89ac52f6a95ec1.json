{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Fuse from 'fuse.js';\nimport { getI18nValue } from '@/i18n';\nimport { computed } from 'vue';\n// import routes from '@/router/routes'\n// 在此引入routes为undefined 可能由于webpack不能解决循环引用问题：https://stackoverflow.com/questions/35240716/webpack-import-returns-undefined-depending-on-the-order-of-imports\nconst options = {\n  isCaseSensitive: false,\n  // includeScore: false,\n  // shouldSort: true,\n  // includeMatches: false,\n  // findAllMatches: false,\n  minMatchCharLength: 1,\n  // location: 0,\n  // threshold: 0.6,\n  // distance: 100,\n  // useExtendedSearch: false,\n  // ignoreLocation: false,\n  // ignoreFieldNorm: false,\n  // fieldNormWeight: 1,\n  keys: ['title', 'path']\n};\nfunction getDataList(routes) {\n  function getList(routes, parentPath, resList) {\n    for (const route of routes) {\n      let path = '';\n      if (route.meta && getI18nValue(route.meta.title) && !/:/.test(route.path)) {\n        if (parentPath && parentPath !== '/') {\n          path = `${parentPath}/${route.path}`;\n        } else if (parentPath && parentPath === '/') {\n          path = `/${route.path}`;\n        } else {\n          path = route.path;\n        }\n        resList.push({\n          path,\n          title: getI18nValue(route.meta.title)\n        });\n      }\n      if (route.children && route.children.length) {\n        getList(route.children, path || route.path, resList);\n      }\n    }\n    return resList;\n  }\n  return getList(routes, undefined, []);\n}\n/**\r\n *\r\n * @param {*} routes 路由表\r\n * @returns Fuse实例\r\n */\nexport default function getFuse(routes) {\n  return computed(() => new Fuse(getDataList(routes), options));\n}","map":{"version":3,"names":["Fuse","getI18nValue","computed","options","isCaseSensitive","minMatchCharLength","keys","getDataList","routes","getList","parentPath","resList","route","path","meta","title","test","push","children","length","undefined","getFuse"],"sources":["D:/myproject/毕业设计/pet-mall/apps/admin/src/components/PageSearch/fuse.js"],"sourcesContent":["import Fuse from 'fuse.js'\r\nimport { getI18nValue } from '@/i18n'\r\nimport { computed } from 'vue'\r\n// import routes from '@/router/routes'\r\n// 在此引入routes为undefined 可能由于webpack不能解决循环引用问题：https://stackoverflow.com/questions/35240716/webpack-import-returns-undefined-depending-on-the-order-of-imports\r\nconst options = {\r\n  isCaseSensitive: false,\r\n  // includeScore: false,\r\n  // shouldSort: true,\r\n  // includeMatches: false,\r\n  // findAllMatches: false,\r\n  minMatchCharLength: 1,\r\n  // location: 0,\r\n  // threshold: 0.6,\r\n  // distance: 100,\r\n  // useExtendedSearch: false,\r\n  // ignoreLocation: false,\r\n  // ignoreFieldNorm: false,\r\n  // fieldNormWeight: 1,\r\n  keys: ['title', 'path']\r\n}\r\n\r\nfunction getDataList(routes) {\r\n  function getList(routes, parentPath, resList) {\r\n    for (const route of routes) {\r\n      let path = ''\r\n      if (\r\n        route.meta &&\r\n        getI18nValue(route.meta.title) &&\r\n        !/:/.test(route.path)\r\n      ) {\r\n        if (parentPath && parentPath !== '/') {\r\n          path = `${parentPath}/${route.path}`\r\n        } else if (parentPath && parentPath === '/') {\r\n          path = `/${route.path}`\r\n        } else {\r\n          path = route.path\r\n        }\r\n        resList.push({ path, title: getI18nValue(route.meta.title) })\r\n      }\r\n      if (route.children && route.children.length) {\r\n        getList(route.children, path || route.path, resList)\r\n      }\r\n    }\r\n    return resList\r\n  }\r\n  return getList(routes, undefined, [])\r\n}\r\n/**\r\n *\r\n * @param {*} routes 路由表\r\n * @returns Fuse实例\r\n */\r\nexport default function getFuse(routes) {\r\n  return computed(() => new Fuse(getDataList(routes), options))\r\n}\r\n"],"mappings":";AAAA,OAAOA,IAAI,MAAM,SAAS;AAC1B,SAASC,YAAY,QAAQ,QAAQ;AACrC,SAASC,QAAQ,QAAQ,KAAK;AAC9B;AACA;AACA,MAAMC,OAAO,GAAG;EACdC,eAAe,EAAE,KAAK;EACtB;EACA;EACA;EACA;EACAC,kBAAkB,EAAE,CAAC;EACrB;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,IAAI,EAAE,CAAC,OAAO,EAAE,MAAM;AACxB,CAAC;AAED,SAASC,WAAWA,CAACC,MAAM,EAAE;EAC3B,SAASC,OAAOA,CAACD,MAAM,EAAEE,UAAU,EAAEC,OAAO,EAAE;IAC5C,KAAK,MAAMC,KAAK,IAAIJ,MAAM,EAAE;MAC1B,IAAIK,IAAI,GAAG,EAAE;MACb,IACED,KAAK,CAACE,IAAI,IACVb,YAAY,CAACW,KAAK,CAACE,IAAI,CAACC,KAAK,CAAC,IAC9B,CAAC,GAAG,CAACC,IAAI,CAACJ,KAAK,CAACC,IAAI,CAAC,EACrB;QACA,IAAIH,UAAU,IAAIA,UAAU,KAAK,GAAG,EAAE;UACpCG,IAAI,GAAG,GAAGH,UAAU,IAAIE,KAAK,CAACC,IAAI,EAAE;QACtC,CAAC,MAAM,IAAIH,UAAU,IAAIA,UAAU,KAAK,GAAG,EAAE;UAC3CG,IAAI,GAAG,IAAID,KAAK,CAACC,IAAI,EAAE;QACzB,CAAC,MAAM;UACLA,IAAI,GAAGD,KAAK,CAACC,IAAI;QACnB;QACAF,OAAO,CAACM,IAAI,CAAC;UAAEJ,IAAI;UAAEE,KAAK,EAAEd,YAAY,CAACW,KAAK,CAACE,IAAI,CAACC,KAAK;QAAE,CAAC,CAAC;MAC/D;MACA,IAAIH,KAAK,CAACM,QAAQ,IAAIN,KAAK,CAACM,QAAQ,CAACC,MAAM,EAAE;QAC3CV,OAAO,CAACG,KAAK,CAACM,QAAQ,EAAEL,IAAI,IAAID,KAAK,CAACC,IAAI,EAAEF,OAAO,CAAC;MACtD;IACF;IACA,OAAOA,OAAO;EAChB;EACA,OAAOF,OAAO,CAACD,MAAM,EAAEY,SAAS,EAAE,EAAE,CAAC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,OAAOA,CAACb,MAAM,EAAE;EACtC,OAAON,QAAQ,CAAC,MAAM,IAAIF,IAAI,CAACO,WAAW,CAACC,MAAM,CAAC,EAAEL,OAAO,CAAC,CAAC;AAC/D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}