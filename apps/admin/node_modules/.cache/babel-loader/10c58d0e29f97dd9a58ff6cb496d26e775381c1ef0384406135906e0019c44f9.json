{"ast":null,"code":"import AppMain from './AppMain';\nimport NavBar from './NavBar';\nimport SideBar from './SideBar';\nimport { watch } from 'vue';\nimport { useStore } from 'vuex';\nimport getScreenInfo from '@/utility/get-screen-info';\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const ScreenInfo = getScreenInfo();\n    const store = useStore();\n    // 实时监听页面尺寸，自动收缩侧边栏\n    watch(ScreenInfo, (newvar, oldvar) => {\n      if (newvar.isMobile) {\n        store.commit('layout/SET_isCollapseSideBar', true);\n      } else {\n        store.commit('layout/SET_isCollapseSideBar', false);\n      }\n    }, {\n      immediate: true\n    });\n    // 当为移动端时，点击AppMain区域的时候要关闭侧边栏\n    function dealWithCollapse() {\n      if (store.getters.screenInfo.isMobile) {\n        store.commit('layout/SET_isCollapseSideBar', true);\n      }\n    }\n    // 点击蒙层关闭侧边栏\n    function setIsCollSideBar(value) {\n      store.commit('layout/SET_isCollapseSideBar', value);\n    }\n    const __returned__ = {\n      ScreenInfo,\n      store,\n      dealWithCollapse,\n      setIsCollSideBar,\n      get AppMain() {\n        return AppMain;\n      },\n      get NavBar() {\n        return NavBar;\n      },\n      get SideBar() {\n        return SideBar;\n      },\n      watch,\n      get useStore() {\n        return useStore;\n      },\n      get getScreenInfo() {\n        return getScreenInfo;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["AppMain","NavBar","SideBar","watch","useStore","getScreenInfo","ScreenInfo","store","newvar","oldvar","isMobile","commit","immediate","dealWithCollapse","getters","screenInfo","setIsCollSideBar","value"],"sources":["D:/myproject/毕业设计/pet-mall/apps/admin/src/layout/index.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"layout-container\"\r\n    :class=\"{ 'mobile-container-global': ScreenInfo.isMobile }\"\r\n  >\r\n    <!-- 蒙层：移动端侧边栏显示时打开蒙层 -->\r\n    <div\r\n      v-if=\"ScreenInfo.isMobile\"\r\n      class=\"mask\"\r\n      :class=\"{\r\n        'mask-show': !$store.getters.isCollapseSideBar\r\n      }\"\r\n      @click=\"setIsCollSideBar(true)\"\r\n    ></div>\r\n    <!-- 侧边栏 -->\r\n    <SideBar class=\"sidebar-container\"></SideBar>\r\n    <!-- 右侧内容区 -->\r\n    <div class=\"right-container\">\r\n      <NavBar></NavBar>\r\n      <AppMain\r\n        class=\"appmain-container dark\"\r\n        @click=\"dealWithCollapse\"\r\n      ></AppMain>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport AppMain from './AppMain'\r\nimport NavBar from './NavBar'\r\nimport SideBar from './SideBar'\r\nimport { watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport getScreenInfo from '@/utility/get-screen-info'\r\nconst ScreenInfo = getScreenInfo()\r\nconst store = useStore()\r\n// 实时监听页面尺寸，自动收缩侧边栏\r\nwatch(\r\n  ScreenInfo,\r\n  (newvar, oldvar) => {\r\n    if (newvar.isMobile) {\r\n      store.commit('layout/SET_isCollapseSideBar', true)\r\n    } else {\r\n      store.commit('layout/SET_isCollapseSideBar', false)\r\n    }\r\n  },\r\n  {\r\n    immediate: true\r\n  }\r\n)\r\n// 当为移动端时，点击AppMain区域的时候要关闭侧边栏\r\nfunction dealWithCollapse() {\r\n  if (store.getters.screenInfo.isMobile) {\r\n    store.commit('layout/SET_isCollapseSideBar', true)\r\n  }\r\n}\r\n// 点击蒙层关闭侧边栏\r\nfunction setIsCollSideBar(value) {\r\n  store.commit('layout/SET_isCollapseSideBar', value)\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.layout-container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n\r\n  // 蒙层：移动端侧边栏显示时打开蒙层\r\n  .mask {\r\n    position: fixed;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: rgba(0, 0, 0, 0);\r\n    z-index: -9999;\r\n    transition: background 0.3s;\r\n  }\r\n\r\n  .mask-show {\r\n    background: rgba(0, 0, 0, 0.8);\r\n    z-index: 9999 !important;\r\n  }\r\n\r\n  .right-container {\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AA4BA,OAAOA,OAAO,MAAM,WAAW;AAC/B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,KAAK,QAAQ,KAAK;AAC3B,SAASC,QAAQ,QAAQ,MAAM;AAC/B,OAAOC,aAAa,MAAM,2BAA2B;;;;;;;IACrD,MAAMC,UAAU,GAAGD,aAAa,CAAC,CAAC;IAClC,MAAME,KAAK,GAAGH,QAAQ,CAAC,CAAC;IACxB;IACAD,KAAK,CACHG,UAAU,EACV,CAACE,MAAM,EAAEC,MAAM,KAAK;MAClB,IAAID,MAAM,CAACE,QAAQ,EAAE;QACnBH,KAAK,CAACI,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAAC;MACpD,CAAC,MAAM;QACLJ,KAAK,CAACI,MAAM,CAAC,8BAA8B,EAAE,KAAK,CAAC;MACrD;IACF,CAAC,EACD;MACEC,SAAS,EAAE;IACb,CACF,CAAC;IACD;IACA,SAASC,gBAAgBA,CAAA,EAAG;MAC1B,IAAIN,KAAK,CAACO,OAAO,CAACC,UAAU,CAACL,QAAQ,EAAE;QACrCH,KAAK,CAACI,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAAC;MACpD;IACF;IACA;IACA,SAASK,gBAAgBA,CAACC,KAAK,EAAE;MAC/BV,KAAK,CAACI,MAAM,CAAC,8BAA8B,EAAEM,KAAK,CAAC;IACrD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}