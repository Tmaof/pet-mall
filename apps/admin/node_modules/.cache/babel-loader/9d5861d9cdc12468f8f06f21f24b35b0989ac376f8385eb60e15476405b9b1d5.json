{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"tags-view-container\"\n};\nconst _hoisted_2 = {\n  class: \"tags-list\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_scrollbar = _resolveComponent(\"el-scrollbar\");\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_scrollbar, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.routeList, route => {\n      return _openBlock(), _createBlock(_component_el_tag, {\n        class: \"el-tag\",\n        size: \"large\",\n        closable: \"\",\n        key: route.path,\n        onClose: $event => $setup.onCloseTag(route),\n        onContextmenu: _withModifiers($event => $setup.onContextMenu($event, route), [\"stop\", \"prevent\"]),\n        type: $setup.vueRoute.path === route.path ? 'primary' : 'info'\n      }, {\n        default: _withCtx(() => [_createVNode(_component_router_link, {\n          to: route.path\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(route.title), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClose\", \"onContextmenu\", \"type\"]);\n    }), 128 /* KEYED_FRAGMENT */))])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 右键菜单 \"), _createVNode($setup[\"ContextMenu\"], {\n    top: $setup.cmTop,\n    left: $setup.cmLeft,\n    visble: $setup.isShowCm,\n    onRefreshThePage: $setup.onRefreshThePage,\n    onCloseTheRightTabs: $setup.onCloseTheRightTabs,\n    onCloseTheOtherTabs: $setup.onCloseTheOtherTabs\n  }, null, 8 /* PROPS */, [\"top\", \"left\", \"visble\"])], 512 /* NEED_PATCH */)), [[_vShow, $setup.routeList.length]]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_scrollbar","default","_withCtx","_createElementVNode","_hoisted_2","_Fragment","_renderList","$setup","routeList","route","_createBlock","_component_el_tag","size","closable","key","path","onClose","$event","onCloseTag","onContextmenu","_withModifiers","onContextMenu","type","vueRoute","_component_router_link","to","_createTextVNode","_toDisplayString","title","_","_createCommentVNode","top","cmTop","left","cmLeft","visble","isShowCm","onRefreshThePage","onCloseTheRightTabs","onCloseTheOtherTabs","length"],"sources":["D:\\myproject\\毕业设计\\pet-mall\\apps\\admin\\src\\components\\TagsView\\index.vue"],"sourcesContent":["<template>\r\n  <div class=\"tags-view-container\" v-show=\"routeList.length\">\r\n    <el-scrollbar>\r\n      <div class=\"tags-list\">\r\n        <el-tag\r\n          class=\"el-tag\"\r\n          size=\"large\"\r\n          closable\r\n          v-for=\"route of routeList\"\r\n          :key=\"route.path\"\r\n          @close=\"onCloseTag(route)\"\r\n          @contextmenu.stop.prevent=\"onContextMenu($event, route)\"\r\n          :type=\"vueRoute.path === route.path ? 'primary' : 'info'\"\r\n        >\r\n          <router-link :to=\"route.path\">{{ route.title }}</router-link>\r\n        </el-tag>\r\n      </div>\r\n    </el-scrollbar>\r\n    <!-- 右键菜单 -->\r\n    <ContextMenu\r\n      :top=\"cmTop\"\r\n      :left=\"cmLeft\"\r\n      :visble=\"isShowCm\"\r\n      @refreshThePage=\"onRefreshThePage\"\r\n      @closeTheRightTabs=\"onCloseTheRightTabs\"\r\n      @closeTheOtherTabs=\"onCloseTheOtherTabs\"\r\n    ></ContextMenu>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { getTagsList } from './getTagsList'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport ContextMenu from './ContextMenu'\r\nconst router = useRouter()\r\nconst isShowCm = ref(false)\r\nconst cmTop = ref('0')\r\nconst cmLeft = ref('0')\r\nconst vueRoute = useRoute()\r\nconst routeList = getTagsList(vueRoute)\r\nlet valueRoute = null\r\nfunction onCloseTag(route) {\r\n  routeList.value.splice(routeList.value.indexOf(route), 1)\r\n}\r\nfunction closeContexMenu() {\r\n  isShowCm.value = false\r\n  document.removeEventListener('click', closeContexMenu)\r\n}\r\nfunction onContextMenu(e, route) {\r\n  valueRoute = route\r\n  cmTop.value = e.y + 'px'\r\n  cmLeft.value = e.x + 'px'\r\n  isShowCm.value = true\r\n  document.addEventListener('click', closeContexMenu)\r\n}\r\nasync function onRefreshThePage() {\r\n  await router.push(valueRoute.path)\r\n  router.go(0)\r\n}\r\nfunction onCloseTheRightTabs() {\r\n  const index = routeList.value.indexOf(valueRoute)\r\n  routeList.value.splice(index + 1)\r\n  router.push(valueRoute.path)\r\n}\r\nfunction onCloseTheOtherTabs() {\r\n  const index = routeList.value.indexOf(valueRoute)\r\n  routeList.value.splice(index + 1)\r\n  routeList.value.splice(0, index)\r\n  router.push(valueRoute.path)\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/style/index.scss';\r\n.tags-view-container {\r\n  height: $tagsVeiwHeight;\r\n  padding: 0 10px;\r\n  .tags-list {\r\n    display: flex;\r\n    margin-top: 5px;\r\n    :deep(.el-tag) {\r\n      margin: 0px 1px;\r\n      border-bottom: none;\r\n      border-top-left-radius: 10px !important;\r\n      border-top-right-radius: 10px !important;\r\n      border-bottom-left-radius: 0 !important;\r\n      border-bottom-right-radius: 0 !important;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAqB;;EAEvBA,KAAK,EAAC;AAAW;;;;;wCAF1BC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJC,YAAA,CAeeC,uBAAA;IAjBnBC,OAAA,EAAAC,QAAA,CAGM,MAaM,CAbNC,mBAAA,CAaM,OAbNC,UAaM,I,kBAZJP,mBAAA,CAWSQ,SAAA,QAfjBC,WAAA,CAQ0BC,MAAA,CAAAC,SAAS,EAAlBC,KAAK;2BAJdC,YAAA,CAWSC,iBAAA;QAVPf,KAAK,EAAC,QAAQ;QACdgB,IAAI,EAAC,OAAO;QACZC,QAAQ,EAAR,EAAQ;QAEPC,GAAG,EAAEL,KAAK,CAACM,IAAI;QACfC,OAAK,EAAAC,MAAA,IAAEV,MAAA,CAAAW,UAAU,CAACT,KAAK;QACvBU,aAAW,EAXtBC,cAAA,CAAAH,MAAA,IAWqCV,MAAA,CAAAc,aAAa,CAACJ,MAAM,EAAER,KAAK;QACrDa,IAAI,EAAEf,MAAA,CAAAgB,QAAQ,CAACR,IAAI,KAAKN,KAAK,CAACM,IAAI;;QAZ7Cd,OAAA,EAAAC,QAAA,CAcU,MAA6D,CAA7DH,YAAA,CAA6DyB,sBAAA;UAA/CC,EAAE,EAAEhB,KAAK,CAACM;;UAdlCd,OAAA,EAAAC,QAAA,CAcwC,MAAiB,CAdzDwB,gBAAA,CAAAC,gBAAA,CAc2ClB,KAAK,CAACmB,KAAK,iB;UAdtDC,CAAA;;QAAAA,CAAA;;;IAAAA,CAAA;MAkBIC,mBAAA,UAAa,EACb/B,YAAA,CAOeQ,MAAA;IANZwB,GAAG,EAAExB,MAAA,CAAAyB,KAAK;IACVC,IAAI,EAAE1B,MAAA,CAAA2B,MAAM;IACZC,MAAM,EAAE5B,MAAA,CAAA6B,QAAQ;IAChBC,gBAAc,EAAE9B,MAAA,CAAA8B,gBAAgB;IAChCC,mBAAiB,EAAE/B,MAAA,CAAA+B,mBAAmB;IACtCC,mBAAiB,EAAEhC,MAAA,CAAAgC;yFAxBiBhC,MAAA,CAAAC,SAAS,CAACgC,MAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}