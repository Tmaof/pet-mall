{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"right-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"layout-container\", {\n      'mobile-container-global': $setup.ScreenInfo.isMobile\n    }])\n  }, [_createCommentVNode(\" 蒙层：移动端侧边栏显示时打开蒙层 \"), $setup.ScreenInfo.isMobile ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"mask\", {\n      'mask-show': !_ctx.$store.getters.isCollapseSideBar\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $setup.setIsCollSideBar(true))\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 侧边栏 \"), _createVNode($setup[\"SideBar\"], {\n    class: \"sidebar-container\"\n  }), _createCommentVNode(\" 右侧内容区 \"), _createElementVNode(\"div\", _hoisted_1, [_createVNode($setup[\"NavBar\"]), _createVNode($setup[\"AppMain\"], {\n    class: \"appmain-container dark\",\n    onClick: $setup.dealWithCollapse\n  })])], 2 /* CLASS */);\n}","map":{"version":3,"names":["class","_createElementBlock","_normalizeClass","$setup","ScreenInfo","isMobile","_createCommentVNode","key","_ctx","$store","getters","isCollapseSideBar","onClick","_cache","$event","setIsCollSideBar","_createVNode","_createElementVNode","_hoisted_1","dealWithCollapse"],"sources":["D:\\myproject\\毕业设计\\pet-mall\\apps\\admin\\src\\layout\\index.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"layout-container\"\r\n    :class=\"{ 'mobile-container-global': ScreenInfo.isMobile }\"\r\n  >\r\n    <!-- 蒙层：移动端侧边栏显示时打开蒙层 -->\r\n    <div\r\n      v-if=\"ScreenInfo.isMobile\"\r\n      class=\"mask\"\r\n      :class=\"{\r\n        'mask-show': !$store.getters.isCollapseSideBar\r\n      }\"\r\n      @click=\"setIsCollSideBar(true)\"\r\n    ></div>\r\n    <!-- 侧边栏 -->\r\n    <SideBar class=\"sidebar-container\"></SideBar>\r\n    <!-- 右侧内容区 -->\r\n    <div class=\"right-container\">\r\n      <NavBar></NavBar>\r\n      <AppMain\r\n        class=\"appmain-container dark\"\r\n        @click=\"dealWithCollapse\"\r\n      ></AppMain>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport AppMain from './AppMain'\r\nimport NavBar from './NavBar'\r\nimport SideBar from './SideBar'\r\nimport { watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport getScreenInfo from '@/utility/get-screen-info'\r\nconst ScreenInfo = getScreenInfo()\r\nconst store = useStore()\r\n// 实时监听页面尺寸，自动收缩侧边栏\r\nwatch(\r\n  ScreenInfo,\r\n  (newvar, oldvar) => {\r\n    if (newvar.isMobile) {\r\n      store.commit('layout/SET_isCollapseSideBar', true)\r\n    } else {\r\n      store.commit('layout/SET_isCollapseSideBar', false)\r\n    }\r\n  },\r\n  {\r\n    immediate: true\r\n  }\r\n)\r\n// 当为移动端时，点击AppMain区域的时候要关闭侧边栏\r\nfunction dealWithCollapse() {\r\n  if (store.getters.screenInfo.isMobile) {\r\n    store.commit('layout/SET_isCollapseSideBar', true)\r\n  }\r\n}\r\n// 点击蒙层关闭侧边栏\r\nfunction setIsCollSideBar(value) {\r\n  store.commit('layout/SET_isCollapseSideBar', value)\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.layout-container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n\r\n  // 蒙层：移动端侧边栏显示时打开蒙层\r\n  .mask {\r\n    position: fixed;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: rgba(0, 0, 0, 0);\r\n    z-index: -9999;\r\n    transition: background 0.3s;\r\n  }\r\n\r\n  .mask-show {\r\n    background: rgba(0, 0, 0, 0.8);\r\n    z-index: 9999 !important;\r\n  }\r\n\r\n  .right-container {\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    overflow: auto;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;EAiBSA,KAAK,EAAC;AAAiB;;uBAhB9BC,mBAAA,CAuBM;IAtBJD,KAAK,EAFTE,eAAA,EAEU,kBAAkB;MAAA,2BACaC,MAAA,CAAAC,UAAU,CAACC;IAAQ;MAExDC,mBAAA,sBAAyB,EAEjBH,MAAA,CAAAC,UAAU,CAACC,QAAQ,I,cAD3BJ,mBAAA,CAOO;IAbXM,GAAA;IAQMP,KAAK,EARXE,eAAA,EAQY,MAAM;oBACqBM,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACC;;IAG/CC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEX,MAAA,CAAAY,gBAAgB;6BAZ9BT,mBAAA,gBAcIA,mBAAA,SAAY,EACZU,YAAA,CAA6Cb,MAAA;IAApCH,KAAK,EAAC;EAAmB,IAClCM,mBAAA,WAAc,EACdW,mBAAA,CAMM,OANNC,UAMM,GALJF,YAAA,CAAiBb,MAAA,aACjBa,YAAA,CAGWb,MAAA;IAFTH,KAAK,EAAC,wBAAwB;IAC7BY,OAAK,EAAET,MAAA,CAAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}