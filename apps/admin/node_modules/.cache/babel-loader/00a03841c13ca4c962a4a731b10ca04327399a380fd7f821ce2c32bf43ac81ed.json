{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"top-logo\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_image = _resolveComponent(\"el-image\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_scrollbar = _resolveComponent(\"el-scrollbar\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass({\n      'sidebar-container': true,\n      'sidebar-container-mobile': _ctx.$store.getters.screenInfo.isMobile,\n      'sidebar-container-collapse-toZero': _ctx.$store.getters.isCollapseSideBar && $setup.mobileCollapseToZero && _ctx.$store.getters.isMobile,\n      'sidebar-container-collapse': _ctx.$store.getters.isCollapseSideBar\n    }),\n    style: _normalizeStyle({\n      width: `${$setup.sideBarWidth}px`,\n      transition: $setup.isDarging ? undefined : `width ease-in-out 0.3s`\n    }),\n    ref: \"sideBarRef\"\n  }, [_createElementVNode(\"div\", _hoisted_1, [$setup.sideBarLogo.isShow ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => [$setup.sideBarLogo.type === 'text' ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_3, _toDisplayString($setup.sideBarLogo.value), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $setup.sideBarLogo.type === 'img' ? (_openBlock(), _createBlock(_component_el_image, {\n      key: 1,\n      fit: \"contain\",\n      src: $setup.sideBarLogo.value\n    }, null, 8 /* PROPS */, [\"src\"])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_scrollbar, null, {\n    default: _withCtx(() => [_createVNode($setup[\"SidebarMenu\"])]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", {\n    class: \"darg-line\",\n    ref: \"dargLineRef\",\n    style: _normalizeStyle({\n      cursor: _ctx.$store.getters.isCollapseSideBar ? undefined : ' e-resize'\n    })\n  }, null, 4 /* STYLE */)], 6 /* CLASS, STYLE */);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_normalizeClass","_ctx","$store","getters","screenInfo","isMobile","isCollapseSideBar","$setup","mobileCollapseToZero","style","_normalizeStyle","sideBarWidth","isDarging","undefined","ref","_createElementVNode","_hoisted_1","sideBarLogo","isShow","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","type","_hoisted_3","_toDisplayString","value","_createCommentVNode","_createBlock","_component_el_image","fit","src","_","_component_el_scrollbar"],"sources":["D:\\myproject\\毕业设计\\pet-mall\\apps\\admin\\src\\layout\\SideBar\\index.vue"],"sourcesContent":["<template>\r\n  <div\r\n    :class=\"{\r\n      'sidebar-container': true,\r\n      'sidebar-container-mobile': $store.getters.screenInfo.isMobile,\r\n      'sidebar-container-collapse-toZero':\r\n        $store.getters.isCollapseSideBar &&\r\n        mobileCollapseToZero &&\r\n        $store.getters.isMobile,\r\n      'sidebar-container-collapse': $store.getters.isCollapseSideBar\r\n    }\"\r\n    :style=\"{\r\n      width: `${sideBarWidth}px`,\r\n      transition: isDarging ? undefined : `width ease-in-out 0.3s`\r\n    }\"\r\n    ref=\"sideBarRef\"\r\n  >\r\n    <div class=\"main\">\r\n      <div class=\"top-logo\" v-if=\"sideBarLogo.isShow\">\r\n        <router-link to=\"/\">\r\n          <h2 v-if=\"sideBarLogo.type === 'text'\">\r\n            {{ sideBarLogo.value }}\r\n          </h2>\r\n          <el-image\r\n            v-if=\"sideBarLogo.type === 'img'\"\r\n            fit=\"contain\"\r\n            :src=\"sideBarLogo.value\"\r\n          ></el-image>\r\n        </router-link>\r\n      </div>\r\n\r\n      <el-scrollbar>\r\n        <SidebarMenu></SidebarMenu>\r\n      </el-scrollbar>\r\n    </div>\r\n    <div\r\n      class=\"darg-line\"\r\n      ref=\"dargLineRef\"\r\n      :style=\"{\r\n        cursor: $store.getters.isCollapseSideBar ? undefined : ' e-resize'\r\n      }\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport settings from '@/settings'\r\nimport SidebarMenu from './SidebarMenu/SidebarMenu.vue'\r\nimport { onMounted, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nconst store = useStore()\r\n\r\nconst {\r\n  sideBarLogo = { isShow: false },\r\n  minDargWidth,\r\n  maxDargWidth,\r\n  initWidth,\r\n  mobileCollapseToZero\r\n} = settings.sideBar\r\nconst dargLineRef = ref({})\r\nconst sideBarRef = ref({})\r\nconst sideBarWidth = ref(initWidth)\r\nconst isDarging = ref(false) // 拖动过程中，不需要过渡效果\r\nfunction setIsCollSideBar(value) {\r\n  store.commit('layout/SET_isCollapseSideBar', value)\r\n}\r\nfunction addDargEvent() {\r\n  function mousemove(e) {\r\n    let temp = sideBarWidth.value\r\n    temp += e.movementX\r\n    // 拖动结束，超过了允许宽度的最大，最小值\r\n    if (temp < minDargWidth) {\r\n      mouseup()\r\n      setIsCollSideBar(true)\r\n    } else if (temp > maxDargWidth) {\r\n      mouseup()\r\n    } else {\r\n      sideBarWidth.value = temp\r\n    }\r\n  }\r\n  function mouseup() {\r\n    // 拖动结束后再开放选中文字。\r\n    setTimeout(() => {\r\n      document.onselectstart = null\r\n    }, 1000)\r\n    document.removeEventListener('mousemove', mousemove)\r\n    document.removeEventListener('mouseup', mouseup)\r\n    isDarging.value = false\r\n  }\r\n\r\n  function mousedown() {\r\n    // 在拖动过程中，禁止选中文字\r\n    document.onselectstart = function () {\r\n      return false\r\n    }\r\n    isDarging.value = true\r\n    document.addEventListener('mousemove', mousemove)\r\n    document.addEventListener('mouseup', mouseup)\r\n  }\r\n  dargLineRef.value.addEventListener('mousedown', mousedown)\r\n}\r\nonMounted(() => {\r\n  addDargEvent()\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/style/index.scss';\r\n.sidebar-container {\r\n  display: flex;\r\n  position: relative;\r\n  flex-direction: row;\r\n  flex-shrink: 0;\r\n  overflow: hidden;\r\n\r\n  .main {\r\n    flex-shrink: 1;\r\n    flex-grow: 1;\r\n    width: 100%;\r\n    .top-logo {\r\n      display: flex;\r\n      justify-content: center;\r\n      width: 100%;\r\n      height: $narBarHeight;\r\n      line-height: $narBarHeight;\r\n      text-align: center;\r\n\r\n      h2 {\r\n        font-weight: bolder;\r\n        font-size: larger;\r\n      }\r\n    }\r\n\r\n    :deep(.menu) {\r\n      .el-menu {\r\n        border: none;\r\n        // 主菜单\r\n        .el-menu-item,\r\n        .el-sub-menu__title,\r\n        .el-sub-menu {\r\n          font-size: $menuFontSize;\r\n          font-weight: $menuFontWeight;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .darg-line {\r\n    position: absolute;\r\n    right: 0;\r\n    width: 10px;\r\n    height: 100%;\r\n  }\r\n\r\n  &:hover .unfold-btn {\r\n    display: inline;\r\n  }\r\n}\r\n\r\n.sidebar-container-collapse {\r\n  width: $sidebarCollapseWidth !important;\r\n}\r\n\r\n.sidebar-container-collapse-toZero {\r\n  width: 0px !important;\r\n}\r\n.sidebar-container-collapse-toZero {\r\n  width: 0 !important;\r\n}\r\n.sidebar-container-mobile {\r\n  position: fixed;\r\n  height: 100%;\r\n  z-index: 999999;\r\n}\r\n</style>\r\n"],"mappings":";;EAiBSA,KAAK,EAAC;AAAM;;EAjBrBC,GAAA;EAkBWD,KAAK,EAAC;;;EAlBjBC,GAAA;AAAA;;;;;uBACEC,mBAAA,CAyCM;IAxCHF,KAAK,EAFVG,eAAA;;kCAEmFC,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACC,UAAU,CAACC,QAAQ;2CAAuDJ,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACG,iBAAiB,IAAaC,MAAA,CAAAC,oBAAoB,IAAaP,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACE,QAAQ;oCAAuCJ,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACG;;IASlUG,KAAK,EAXVC,eAAA;gBAW+BH,MAAA,CAAAI,YAAY;kBAAyBJ,MAAA,CAAAK,SAAS,GAAGC,SAAS;;IAIrFC,GAAG,EAAC;MAEJC,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBwBT,MAAA,CAAAU,WAAW,CAACC,MAAM,I,cAA9CnB,mBAAA,CAWM,OAXNoB,UAWM,GAVJC,YAAA,CAScC,sBAAA;IATDC,EAAE,EAAC;EAAG;IAnB3BC,OAAA,EAAAC,QAAA,CAmB8F,MAI5F,CAHkBjB,MAAA,CAAAU,WAAW,CAACQ,IAAI,e,cAA1B1B,mBAAA,CAEK,MAtBf2B,UAAA,EAAAC,gBAAA,CAqBepB,MAAA,CAAAU,WAAW,CAACW,KAAK,oBArBhCC,mBAAA,gBAwBkBtB,MAAA,CAAAU,WAAW,CAACQ,IAAI,c,cADxBK,YAAA,CAIYC,mBAAA;MA3BtBjC,GAAA;MAyBYkC,GAAG,EAAC,SAAS;MACZC,GAAG,EAAE1B,MAAA,CAAAU,WAAW,CAACW;wCA1B9BC,mBAAA,e;IAAAK,CAAA;UAAAL,mBAAA,gBA+BMT,YAAA,CAEee,uBAAA;IAjCrBZ,OAAA,EAAAC,QAAA,CAgCQ,MAA2B,CAA3BJ,YAAA,CAA2Bb,MAAA,iB;IAhCnC2B,CAAA;QAmCInB,mBAAA,CAMO;IALLlB,KAAK,EAAC,WAAW;IACjBiB,GAAG,EAAC,aAAa;IAChBL,KAAK,EAtCZC,eAAA;cAsCiCT,IAAA,CAAAC,MAAM,CAACC,OAAO,CAACG,iBAAiB,GAAGO,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}