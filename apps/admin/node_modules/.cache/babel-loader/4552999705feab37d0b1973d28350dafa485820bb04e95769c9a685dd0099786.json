{"ast":null,"code":"import i18n from '@/i18n';\nimport { ref, computed } from 'vue';\nimport { addPermission } from '@/api/permission-manage';\nimport { useStore } from 'vuex';\nexport default {\n  __name: 'index',\n  props: {\n    parentInfo: {\n      required: true,\n      type: Object\n    },\n    modelValue: {\n      required: true,\n      type: Boolean\n    }\n  },\n  emits: ['update:modelValue', 'complete'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const {\n      getters\n    } = useStore();\n    const emit = __emit;\n    const props = __props;\n    const isShow = computed({\n      get() {\n        return props.modelValue;\n      },\n      set(val) {\n        emit('update:modelValue', val);\n      }\n    });\n    const form = ref({\n      pid: '',\n      name: '',\n      code: '',\n      type: ''\n    });\n    const roles = {\n      name: [{\n        required: true,\n        message: i18n.$t('AddPerm.index.017835-8'),\n        trigger: 'blur'\n      }],\n      code: [{\n        required: true,\n        message: i18n.$t('AddPerm.index.017835-9'),\n        trigger: 'blur'\n      }],\n      type: [{\n        type: 'number',\n        required: true,\n        message: i18n.$t('AddPerm.index.017835-10'),\n        trigger: 'change'\n      }]\n    };\n    const formRef = ref();\n    function addPermInfo() {\n      formRef.value.validate(async ok => {\n        if (ok) {\n          form.value.pid = props.parentInfo.id;\n          await addPermission(form.value);\n          emit('complete');\n          isShow.value = false;\n        }\n      });\n    }\n    function resInfo() {\n      form.value = {\n        pid: '',\n        name: '',\n        code: '',\n        type: ''\n      };\n    }\n    const __returned__ = {\n      getters,\n      emit,\n      props,\n      isShow,\n      form,\n      roles,\n      formRef,\n      addPermInfo,\n      resInfo,\n      get i18n() {\n        return i18n;\n      },\n      ref,\n      computed,\n      get addPermission() {\n        return addPermission;\n      },\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["i18n","ref","computed","addPermission","useStore","getters","emit","__emit","props","__props","isShow","get","modelValue","set","val","form","pid","name","code","type","roles","required","message","$t","trigger","formRef","addPermInfo","value","validate","ok","parentInfo","id","resInfo"],"sources":["D:/myproject/毕业设计/pet-mall/apps/admin/src/views/Acl/Menu/components/AddPerm/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n      v-model=\"isShow\"\r\n      :title=\"$t('AddPerm.index.017835-0')\"\r\n      @closed=\"resInfo\"\r\n      :fullscreen=\"getters.isMobile\"\r\n    >\r\n      <el-form ref=\"formRef\" :model=\"form\" :rules=\"roles\">\r\n        <el-form-item :label=\"$t('AddPerm.index.017835-1')\">\r\n          <el-input disabled :model-value=\"props.parentInfo.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('AddPerm.index.017835-2')\" prop=\"name\">\r\n          <el-input v-model.trim=\"form.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item :label=\"$t('AddPerm.index.017835-3')\" prop=\"code\"\r\n          ><el-input v-model.trim=\"form.code\"></el-input\r\n        ></el-form-item>\r\n        <el-form-item :label=\"$t('AddPerm.index.017835-4')\" prop=\"type\">\r\n          <el-select v-model=\"form.type\">\r\n            <el-option :label=\"$t('AddPerm.index.017835-5')\" :value=\"1\"></el-option>\r\n            <el-option :label=\"$t('AddPerm.index.017835-6')\" :value=\"2\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"right-btn-container\">\r\n        <el-button type=\"primary\" @click=\"addPermInfo\">{{ $t('AddPerm.index.017835-7') }}</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport i18n from '@/i18n'\r\nimport { ref, defineProps, defineEmits, computed } from 'vue'\r\nimport { addPermission } from '@/api/permission-manage'\r\nimport { useStore } from 'vuex'\r\nconst { getters } = useStore()\r\nconst emit = defineEmits(['update:modelValue', 'complete'])\r\nconst props = defineProps({\r\n  parentInfo: {\r\n    required: true,\r\n    type: Object\r\n  },\r\n  modelValue: {\r\n    required: true,\r\n    type: Boolean\r\n  }\r\n})\r\nconst isShow = computed({\r\n  get() {\r\n    return props.modelValue\r\n  },\r\n  set(val) {\r\n    emit('update:modelValue', val)\r\n  }\r\n})\r\nconst form = ref({\r\n  pid: '',\r\n  name: '',\r\n  code: '',\r\n  type: ''\r\n})\r\nconst roles = {\r\n  name: [{ required: true, message: i18n.$t('AddPerm.index.017835-8'), trigger: 'blur' }],\r\n  code: [{ required: true, message: i18n.$t('AddPerm.index.017835-9'), trigger: 'blur' }],\r\n  type: [\r\n    {\r\n      type: 'number',\r\n      required: true,\r\n      message: i18n.$t('AddPerm.index.017835-10'),\r\n      trigger: 'change'\r\n    }\r\n  ]\r\n}\r\nconst formRef = ref()\r\n\r\nfunction addPermInfo() {\r\n  formRef.value.validate(async (ok) => {\r\n    if (ok) {\r\n      form.value.pid = props.parentInfo.id\r\n      await addPermission(form.value)\r\n      emit('complete')\r\n      isShow.value = false\r\n    }\r\n  })\r\n}\r\n\r\nfunction resInfo() {\r\n  form.value = {\r\n    pid: '',\r\n    name: '',\r\n    code: '',\r\n    type: ''\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.right-btn-container {\r\n  display: flex;\r\n  justify-content: right;\r\n}\r\n</style>\r\n"],"mappings":"AAiCA,OAAOA,IAAI,MAAM,QAAQ;AACzB,SAASC,GAA6B,EAAEC,QAAQ,QAAQ,KAAK;AAC7D,SAASC,aAAa,QAAQ,yBAAyB;AACvD,SAASC,QAAQ,QAAQ,MAAM;;;;;;;;;;;;;;;;;;;IAC/B,MAAM;MAAEC;IAAQ,CAAC,GAAGD,QAAQ,CAAC,CAAC;IAC9B,MAAME,IAAI,GAAGC,MAA8C;IAC3D,MAAMC,KAAK,GAAGC,OASZ;IACF,MAAMC,MAAM,GAAGR,QAAQ,CAAC;MACtBS,GAAGA,CAAA,EAAG;QACJ,OAAOH,KAAK,CAACI,UAAU;MACzB,CAAC;MACDC,GAAGA,CAACC,GAAG,EAAE;QACPR,IAAI,CAAC,mBAAmB,EAAEQ,GAAG,CAAC;MAChC;IACF,CAAC,CAAC;IACF,MAAMC,IAAI,GAAGd,GAAG,CAAC;MACfe,GAAG,EAAE,EAAE;MACPC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE;IACR,CAAC,CAAC;IACF,MAAMC,KAAK,GAAG;MACZH,IAAI,EAAE,CAAC;QAAEI,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAEtB,IAAI,CAACuB,EAAE,CAAC,wBAAwB,CAAC;QAAEC,OAAO,EAAE;MAAO,CAAC,CAAC;MACvFN,IAAI,EAAE,CAAC;QAAEG,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAEtB,IAAI,CAACuB,EAAE,CAAC,wBAAwB,CAAC;QAAEC,OAAO,EAAE;MAAO,CAAC,CAAC;MACvFL,IAAI,EAAE,CACJ;QACEA,IAAI,EAAE,QAAQ;QACdE,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAEtB,IAAI,CAACuB,EAAE,CAAC,yBAAyB,CAAC;QAC3CC,OAAO,EAAE;MACX,CAAC;IAEL,CAAC;IACD,MAAMC,OAAO,GAAGxB,GAAG,CAAC,CAAC;IAErB,SAASyB,WAAWA,CAAA,EAAG;MACrBD,OAAO,CAACE,KAAK,CAACC,QAAQ,CAAC,MAAOC,EAAE,IAAK;QACnC,IAAIA,EAAE,EAAE;UACNd,IAAI,CAACY,KAAK,CAACX,GAAG,GAAGR,KAAK,CAACsB,UAAU,CAACC,EAAE;UACpC,MAAM5B,aAAa,CAACY,IAAI,CAACY,KAAK,CAAC;UAC/BrB,IAAI,CAAC,UAAU,CAAC;UAChBI,MAAM,CAACiB,KAAK,GAAG,KAAK;QACtB;MACF,CAAC,CAAC;IACJ;IAEA,SAASK,OAAOA,CAAA,EAAG;MACjBjB,IAAI,CAACY,KAAK,GAAG;QACXX,GAAG,EAAE,EAAE;QACPC,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE;MACR,CAAC;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}