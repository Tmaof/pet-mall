{"ast":null,"code":"import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, resolveDirective as _resolveDirective, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementVNode as _createElementVNode, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"head\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_popconfirm = _resolveComponent(\"el-popconfirm\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _directive_permission = _resolveDirective(\"permission\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_card, {\n    shadow: \"never\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_withDirectives((_openBlock(), _createBlock(_component_el_button, {\n      type: \"primary\",\n      onClick: _cache[0] || (_cache[0] = $event => $setup.onAddPerm({\n        id: undefined,\n        name: _ctx.$t('Menu.index.925822-0')\n      }))\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t('Menu.index.925822-1')), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    })), [[_directive_permission, 'add-perm']])]), _createVNode(_component_el_table, {\n      data: $setup.permissionList,\n      \"row-key\": \"id\",\n      border: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        label: _ctx.$t('Menu.index.925822-2')\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createTextVNode(_toDisplayString(row.name), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"]), _createVNode(_component_el_table_column, {\n        label: _ctx.$t('Menu.index.925822-3')\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createVNode(_component_el_tag, {\n          type: row.type === 1 ? '' : 'success'\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(row.type === 1 ? _ctx.$t('Menu.index.925822-4') : _ctx.$t('Menu.index.925822-5')), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"]), _createVNode(_component_el_table_column, {\n        label: _ctx.$t('Menu.index.925822-6')\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_createTextVNode(_toDisplayString(row.code), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"]), _createVNode(_component_el_table_column, {\n        label: _ctx.$t('Menu.index.925822-7')\n      }, {\n        default: _withCtx(({\n          row\n        }) => [_withDirectives(_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $event => $setup.onAddPerm(row),\n          title: _ctx.$t('Menu.index.925822-8'),\n          icon: \"Plus\"\n        }, null, 8 /* PROPS */, [\"onClick\", \"title\"]), [[_directive_permission, 'add-perm']]), _createVNode(_component_el_popconfirm, {\n          onConfirm: $event => $setup.onDeletePerm(row),\n          title: _ctx.$t('Menu.index.925822-9')\n        }, {\n          reference: _withCtx(() => [_withDirectives(_createVNode(_component_el_button, {\n            type: \"danger\",\n            title: _ctx.$t('Menu.index.925822-10'),\n            icon: \"Delete\"\n          }, null, 8 /* PROPS */, [\"title\"]), [[_directive_permission, 'delete-perm']])]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onConfirm\", \"title\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"label\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 对话框 \"), _createVNode($setup[\"AddPerm\"], {\n    modelValue: $setup.isShowAddPerm,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.isShowAddPerm = $event),\n    parentInfo: $setup.parentInfo,\n    onComplete: $setup.getPermissionListInfo\n  }, null, 8 /* PROPS */, [\"modelValue\", \"parentInfo\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_el_card","shadow","default","_withCtx","_createElementVNode","_hoisted_1","_createBlock","_component_el_button","type","onClick","_cache","$event","$setup","onAddPerm","id","undefined","name","_ctx","$t","_createTextVNode","_toDisplayString","_","_component_el_table","data","permissionList","border","_component_el_table_column","label","row","_component_el_tag","code","title","icon","_component_el_popconfirm","onConfirm","onDeletePerm","reference","_createCommentVNode","modelValue","isShowAddPerm","parentInfo","onComplete","getPermissionListInfo"],"sources":["D:\\myproject\\毕业设计\\pet-mall\\apps\\admin\\src\\views\\Acl\\Menu\\index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-card shadow=\"never\">\r\n      <div class=\"head\">\r\n        <el-button\r\n          type=\"primary\"\r\n          v-permission=\"'add-perm'\"\r\n          @click=\"onAddPerm({ id: undefined, name: $t('Menu.index.925822-0') })\"\r\n          >{{ $t('Menu.index.925822-1') }}</el-button\r\n        >\r\n      </div>\r\n      <el-table :data=\"permissionList\" row-key=\"id\" border>\r\n        <el-table-column :label=\"$t('Menu.index.925822-2')\">\r\n          <template #default=\"{ row }\">{{ row.name }}</template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('Menu.index.925822-3')\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"row.type === 1 ? '' : 'success'\">{{\r\n              row.type === 1 ? $t('Menu.index.925822-4') : $t('Menu.index.925822-5')\r\n            }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column :label=\"$t('Menu.index.925822-6')\"\r\n          ><template #default=\"{ row }\">{{\r\n            row.code\r\n          }}</template></el-table-column\r\n        >\r\n        <el-table-column :label=\"$t('Menu.index.925822-7')\">\r\n          <template #default=\"{ row }\">\r\n            <el-button\r\n              type=\"primary\"\r\n              @click=\"onAddPerm(row)\"\r\n              :title=\"$t('Menu.index.925822-8')\"\r\n              icon=\"Plus\"\r\n              v-permission=\"'add-perm'\"\r\n            ></el-button>\r\n            <el-popconfirm @confirm=\"onDeletePerm(row)\" :title=\"$t('Menu.index.925822-9')\">\r\n              <template #reference>\r\n                <el-button\r\n                  type=\"danger\"\r\n                  :title=\"$t('Menu.index.925822-10')\"\r\n                  icon=\"Delete\"\r\n                  v-permission=\"'delete-perm'\"\r\n                ></el-button\r\n              ></template>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n    <!-- 对话框 -->\r\n    <AddPerm\r\n      v-model=\"isShowAddPerm\"\r\n      :parentInfo=\"parentInfo\"\r\n      @complete=\"getPermissionListInfo\"\r\n    ></AddPerm>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from 'vue'\r\nimport AddPerm from './components/AddPerm'\r\nimport { getPermissionList, deletePermission } from '@/api/permission-manage'\r\nconst isShowAddPerm = ref(false)\r\nconst parentInfo = ref({ id: undefined, name: '' })\r\nconst permissionList = ref()\r\n/**\r\n * 添加权限\r\n */\r\nfunction onAddPerm(parentPerm) {\r\n  isShowAddPerm.value = true\r\n  parentInfo.value.id = parentPerm.id\r\n  parentInfo.value.name = parentPerm.name\r\n}\r\n\r\n/**\r\n * 获取权限列表\r\n */\r\nasync function getPermissionListInfo() {\r\n  permissionList.value = await getPermissionList()\r\n}\r\n\r\n/**\r\n * 删除权限\r\n */\r\nasync function onDeletePerm(perm) {\r\n  deletePermission(perm.id).then(() => {\r\n    getPermissionListInfo()\r\n  })\r\n}\r\nonMounted(() => {\r\n  getPermissionListInfo()\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.head {\r\n  margin-bottom: 10px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}